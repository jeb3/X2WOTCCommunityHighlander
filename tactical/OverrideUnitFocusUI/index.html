<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  
  <link rel="shortcut icon" href="../../img/favicon.ico">
  <title>OverrideUnitFocusUI - X2WOTCCommunityHighlander</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700" />

  <link rel="stylesheet" href="../../css/theme.css" />
  <link rel="stylesheet" href="../../css/theme_extra.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css" />
  
  <script>
    // Current page data
    var mkdocs_page_name = "OverrideUnitFocusUI";
    var mkdocs_page_input_path = "tactical/OverrideUnitFocusUI.md";
    var mkdocs_page_url = null;
  </script>
  
  <script src="../../js/jquery-2.1.1.min.js" defer></script>
  <script src="../../js/modernizr-2.8.3.min.js" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/ini.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/unrealscript.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
        <a href="../.." class="icon icon-home"> X2WOTCCommunityHighlander</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../..">X2WOTCCommunityHighlander Documentation</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../Bugfixes/">Bugfixes</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../compatibility/">Compatibility</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../customization/">Customization</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../events/">Events</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../loadoutslots/">Loadout Slots</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../pawns/">Pawns</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Misc</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../misc/ArmorEquipRollDLCPartChance/">ArmorEquipRollDLCPartChance</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../misc/ClassIsNative/">ClassIsNative</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../misc/ComponentVersions/">ComponentVersions</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../misc/CustomInventorySlots/">CustomInventorySlots</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../misc/XComLWTuple/">XComLWTuple</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Strategy</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../strategy/NonIntegratedAlienRulerLocations/">NonIntegratedAlienRulerLocations</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../strategy/OverrideNextRetaliationDisplay/">OverrideNextRetaliationDisplay</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Tactical</span></p>
                <ul class="current">
                    <li class="toctree-l1 current"><a class="reference internal current" href="./">OverrideUnitFocusUI</a>
    <ul class="current">
    </ul>
                    </li>
                </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../..">X2WOTCCommunityHighlander</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../..">Docs</a> &raquo;</li>
    
      
        
          <li>Tactical &raquo;</li>
        
      
    
    <li>OverrideUnitFocusUI</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1>OverrideUnitFocusUI</h1>

<p>Tracking Issue: <a href="https://github.com/X2CommunityCore/X2WOTCCommunityHighlander/issues/257">#257</a></p>
<p>Tags: <a href="../../compatibility/">compatibility</a></p>
<p>This focus change allows mods to change the focus UI that the vanilla game uses
to display Templar Focus. This effectively creates different types of Focus, even
though the game does not know about this. For example, you can create a custom
soldier class with its own type of focus, tracked with a <code>UnitValue</code>.
This imposes a few limitations on the system:</p>
<ul>
<li>A given unit only ever has a single "type" of focus. The rules for different focus
  types are expected to be so different from one another to make any conflicts
  a painful experience for modders and players.
  In particular, it means that this function should NOT be used to make any changes
  to the Templar Focus, as tempting as it may be.</li>
<li>This also includes an Effect of the name <code>TemplarFocus</code> or an Effect Class of the type
  <code>XComGameState_Effect_TemplarFocus</code>.</li>
</ul>
<p>In order to add your custom focus types, there are two changes in XComGame you can use:</p>
<ul>
<li>A new event hook for <code>UIUnitFlag</code> and <code>UITacticalHUD_SoldierInfo</code>: Documentation for that
  particular hook is directly below.</li>
<li>A change in <code>X2AbilityCost_Focus</code>: You may subclass that particular class and override all
  functions declared there (<code>CanAfford</code>, <code>ApplyCost</code>, <code>PreviewFocusCost</code>). This can be used to
  preview a cost for custom skills that consume focus. Again, make sure to not mix and match
  custom subclasses with the base class for any abilities.</li>
</ul>
<pre><code class="unrealscript">EventID: OverrideUnitFocusUI
EventData: XComLWTuple {
    Data: [
      inout bool bVisible,
      inout int currentFocus,
      inout int maxFoxus,
      inout string color,
      inout string iconPath,
      inout string tooltipText,
      inout string focusLabel
    ]
}
</code></pre>

<p>Note that if <code>bVisible == false</code>, the rest will be ignored and will not have valid data in it.</p>
<h2 id="compatibility">Compatibility</h2>
<p>If you override <code>UIUnitFlag</code>, your code may undo the HL's changes that
support this feature in the UI. See the tracking issue for code samples.</p>
<h2 id="source-code-references">Source code references</h2>
<ul>
<li><a href="https://github.com/X2CommunityCore/X2WOTCCommunityHighlander/blob/master/X2WOTCCommunityHighlander/Src/XComGame/Classes/CHHelpers.uc#L324-L368">CHHelpers.uc:324-368</a></li>
</ul>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
      
        <a href="../../strategy/OverrideNextRetaliationDisplay/" class="btn btn-neutral" title="OverrideNextRetaliationDisplay"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
          <a href="https://github.com/X2CommunityCore/X2WOTCCommunityHighlander" class="fa fa-github" style="float: left; color: #fcfcfc"> GitHub</a>
      
      
        <span><a href="../../strategy/OverrideNextRetaliationDisplay/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
    </span>
</div>
    <script>var base_url = '../..';</script>
    <script src="../../js/theme.js" defer></script>
      <script src="../../search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
